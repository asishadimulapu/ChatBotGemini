{"version":3,"sources":["geminiClient.js"],"names":["Chat","require","askGemini","exports","createChat","req","res","prompt","body","status","json","message","response","create","userId","user","_id","newChat","console","error"],"mappings":";;AAAA,IAAMA,IAAI,GAAGC,OAAO,CAAC,gBAAD,CAApB;;eACsBA,OAAO,CAAC,wBAAD,C;IAArBC,S,YAAAA,S;;AAERC,OAAO,CAACC,UAAR,GAAqB,iBAAOC,GAAP,EAAYC,GAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAETC,UAAAA,MAFS,GAEEF,GAAG,CAACG,IAFN,CAETD,MAFS;;AAAA,cAIZA,MAJY;AAAA;AAAA;AAAA;;AAAA,2CAKRD,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,YAAAA,OAAO,EAAE;AAAX,WAArB,CALQ;;AAAA;AAAA;AAAA,0CASMT,SAAS,CAACK,MAAD,CATf;;AAAA;AASXK,UAAAA,QATW;AAAA;AAAA,0CAYKZ,IAAI,CAACa,MAAL,CAAY;AAChCC,YAAAA,MAAM,EAAET,GAAG,CAACU,IAAJ,CAASC,GADe;AAEhCT,YAAAA,MAAM,EAANA,MAFgC;AAGhCK,YAAAA,QAAQ,EAARA;AAHgC,WAAZ,CAZL;;AAAA;AAYXK,UAAAA,OAZW;AAkBjBX,UAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBO,OAArB,EAlBiB,CAkBe;;AAlBf;AAAA;;AAAA;AAAA;AAAA;AAoBjBC,UAAAA,OAAO,CAACC,KAAR,CAAc,mBAAd,EAAmC,YAAMR,OAAzC;AACAL,UAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAAEC,YAAAA,OAAO,EAAE,YAAMA,OAAN,IAAiB;AAA5B,WAArB;;AArBiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAArB","sourcesContent":["const Chat = require('../models/Chat');\r\nconst { askGemini } = require('../gemini/geminiClient');\r\n\r\nexports.createChat = async (req, res) => {\r\n  try {\r\n    const { prompt } = req.body;\r\n\r\n    if (!prompt) {\r\n      return res.status(400).json({ message: 'Prompt is required' });\r\n    }\r\n\r\n    // Get response from Gemini\r\n    const response = await askGemini(prompt);\r\n\r\n    // Save to DB\r\n    const newChat = await Chat.create({\r\n      userId: req.user._id,\r\n      prompt,\r\n      response,\r\n    });\r\n\r\n    res.status(201).json(newChat);  // âœ… send full chat back to frontend\r\n  } catch (error) {\r\n    console.error('createChat error:', error.message);\r\n    res.status(500).json({ message: error.message || 'Failed to process chat' });\r\n  }\r\n};\r\n"],"file":"geminiClient.dev.js"}