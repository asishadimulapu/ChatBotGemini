"use strict";var Chat=require("../models/Chat"),_require=require("../gemini/geminiClient"),askGemini=_require.askGemini;exports.createChat=function(r,t){var s,a,n;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,s=r.body.prompt){e.next=4;break}return e.abrupt("return",t.status(400).json({message:"Prompt is required"}));case 4:return e.next=6,regeneratorRuntime.awrap(askGemini(s));case 6:return a=e.sent,e.next=9,regeneratorRuntime.awrap(Chat.create({userId:r.user._id,prompt:s,response:a}));case 9:n=e.sent,t.status(201).json(n),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("createChat error:",e.t0.message),t.status(500).json({message:e.t0.message||"Failed to process chat"});case 17:case"end":return e.stop()}},null,null,[[0,13]])};
//# sourceMappingURL=geminiClient.min.js.map
